{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ruudd\\\\OneDrive - Office 365 Fontys\\\\SE31\\\\Big Idea - Stratego\\\\Project\\\\online-stratego-client\\\\src\\\\pages\\\\Game.js\";\nimport React, { Component } from 'react';\nimport SockJSClient from 'react-stomp';\nimport ReactCursorPosition from 'react-cursor-position';\nconst height = 800,\n      width = 1000;\n\nclass Game extends Component {\n  constructor(props) {\n    super(props);\n\n    this.sendMessage = message => {\n      this.clientRef.sendMessage('/app/game', JSON.stringify(message));\n      console.log(JSON.stringify(message), 'MESSAGE SEND');\n    };\n\n    this.toggle = () => {\n      this.setState({\n        ready: !this.state.ready\n      });\n      this.sendMessage(this.state);\n    };\n\n    this.state = {\n      ready: false,\n      board: [['OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN'], ['OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN'], ['OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN'], ['OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN'], ['OPEN', 'OPEN', 'LAKE', 'LAKE', 'OPEN', 'OPEN', 'LAKE', 'LAKE', 'OPEN', 'OPEN'], ['OPEN', 'OPEN', 'LAKE', 'LAKE', 'OPEN', 'OPEN', 'LAKE', 'LAKE', 'OPEN', 'OPEN'], ['OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN'], ['OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN'], ['OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN'], ['OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN']]\n    }; // Bindings\n\n    this.sendMessage = this.sendMessage.bind(this);\n    this.onMessageRecieved = this.onMessageRecieved.bind(this);\n    this.toggle = this.toggle.bind(this);\n    this.handleOnClick = this.handleOnClick.bind(this);\n  }\n\n  componentDidMount() {\n    this.drawBoard();\n    const canvas = document.getElementById('canvasPawns');\n  }\n\n  drawBoard() {\n    console.log('drawing board');\n    const canvas = document.getElementById('canvasBoard');\n    const context = canvas.getContext('2d');\n    const board = this.state.board;\n    const size = board.length;\n\n    for (var y = 0; y < size; y++) {\n      const field = board[y];\n\n      for (var x = 0; x < size; x++) {\n        if (field[x] === 'OPEN') {\n          context.fillStyle = 'green';\n          context.fillRect(width / size * x, height / size * y, width / size - 1, height / size - 1);\n        } else if (field[x] === 'LAKE') {\n          context.fillStyle = 'blue';\n          context.fillRect(width / size * x, height / size * y, width / size - 1, height / size - 1);\n        }\n      }\n    }\n  }\n\n  handleOnClick(e) {\n    e.persist();\n    console.log(e);\n  }\n\n  onMessageRecieved(message) {\n    console.log(message, 'MESSAGE RECIEVED');\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"Layout\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"header\", {\n      style: {\n        paddingBottom: '3rem',\n        fontSize: '40px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"Online Stratego\"), React.createElement(\"div\", {\n      className: \"row\",\n      id: \"left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"row\",\n      id: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"grid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"canvasWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(ReactCursorPosition, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"canvas\", {\n      id: \"canvasBoard\",\n      width: width,\n      height: height,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), React.createElement(PositionLabel, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"canvasWrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"canvas\", {\n      id: \"canvasPawns\",\n      width: width,\n      height: height,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"row\",\n      id: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), \"// Websockets\", React.createElement(\"button\", {\n      onClick: this.toggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"toggle\"), React.createElement(SockJSClient, {\n      url: 'http://localhost:9000/ws',\n      topics: ['/topic/public'],\n      onMessage: message => {\n        this.onMessageRecieved(message);\n      },\n      ref: client => {\n        this.clientRef = client;\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Game;\n\nclass Example extends Component {\n  render() {\n    return React.createElement(ReactCursorPosition, {\n      className: \"example\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(PositionLabel, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }));\n  }\n\n}\n\nconst PositionLabel = props => {\n  const _props$detectedEnviro = props.detectedEnvironment,\n        _props$detectedEnviro2 = _props$detectedEnviro === void 0 ? {} : _props$detectedEnviro,\n        _props$detectedEnviro3 = _props$detectedEnviro2.isMouseDetected,\n        isMouseDetected = _props$detectedEnviro3 === void 0 ? false : _props$detectedEnviro3,\n        _props$detectedEnviro4 = _props$detectedEnviro2.isTouchDetected,\n        isTouchDetected = _props$detectedEnviro4 === void 0 ? false : _props$detectedEnviro4,\n        _props$elementDimensi = props.elementDimensions,\n        _props$elementDimensi2 = _props$elementDimensi === void 0 ? {} : _props$elementDimensi,\n        _props$elementDimensi3 = _props$elementDimensi2.width,\n        width = _props$elementDimensi3 === void 0 ? 0 : _props$elementDimensi3,\n        _props$elementDimensi4 = _props$elementDimensi2.height,\n        height = _props$elementDimensi4 === void 0 ? 0 : _props$elementDimensi4,\n        _props$isActive = props.isActive,\n        isActive = _props$isActive === void 0 ? false : _props$isActive,\n        _props$isPositionOuts = props.isPositionOutside,\n        isPositionOutside = _props$isPositionOuts === void 0 ? false : _props$isPositionOuts,\n        _props$position = props.position,\n        _props$position2 = _props$position === void 0 ? {} : _props$position,\n        _props$position2$x = _props$position2.x,\n        x = _props$position2$x === void 0 ? 0 : _props$position2$x,\n        _props$position2$y = _props$position2.y,\n        y = _props$position2$y === void 0 ? 0 : _props$position2$y;\n\n  return React.createElement(\"div\", {\n    className: \"example__label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, \"x: \".concat(x), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }), \"y: \".concat(y), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }), \"width:: \".concat(width), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }), \"height: \".concat(height), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }), \"isActive: \".concat(isActive), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }), \"isPositionOutside: \".concat(isPositionOutside ? 'true' : 'false'), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }), \"isMouseDetected: \".concat(isMouseDetected ? 'true' : 'false'), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }), \"isTouchDetected: \".concat(isTouchDetected ? 'true' : 'false'));\n};\n\nrender(React.createElement(Example, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 172\n  },\n  __self: this\n}), document.getElementById('app'));","map":{"version":3,"sources":["C:/Users/ruudd/OneDrive - Office 365 Fontys/SE31/Big Idea - Stratego/Project/online-stratego-client/src/pages/Game.js"],"names":["React","Component","SockJSClient","ReactCursorPosition","height","width","Game","constructor","props","sendMessage","message","clientRef","JSON","stringify","console","log","toggle","setState","ready","state","board","bind","onMessageRecieved","handleOnClick","componentDidMount","drawBoard","canvas","document","getElementById","context","getContext","size","length","y","field","x","fillStyle","fillRect","e","persist","render","paddingBottom","fontSize","client","Example","PositionLabel","detectedEnvironment","isMouseDetected","isTouchDetected","elementDimensions","isActive","isPositionOutside","position"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport SockJSClient from 'react-stomp';\r\nimport ReactCursorPosition from 'react-cursor-position';\r\n\r\nconst height = 800, width = 1000;\r\n\r\nclass Game extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            ready: false,\r\n            board: [\r\n                ['OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN'],\r\n                ['OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN'],\r\n                ['OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN'],\r\n                ['OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN'],\r\n                ['OPEN', 'OPEN', 'LAKE', 'LAKE', 'OPEN', 'OPEN', 'LAKE', 'LAKE', 'OPEN', 'OPEN'],\r\n                ['OPEN', 'OPEN', 'LAKE', 'LAKE', 'OPEN', 'OPEN', 'LAKE', 'LAKE', 'OPEN', 'OPEN'],\r\n                ['OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN'],\r\n                ['OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN'],\r\n                ['OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN'],\r\n                ['OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN', 'OPEN'],\r\n            ]\r\n        }\r\n\r\n        // Bindings\r\n        this.sendMessage = this.sendMessage.bind(this);\r\n        this.onMessageRecieved = this.onMessageRecieved.bind(this);\r\n        this.toggle = this.toggle.bind(this);\r\n        this.handleOnClick = this.handleOnClick.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.drawBoard();\r\n        const canvas = document.getElementById('canvasPawns');\r\n    }\r\n\r\n\r\n    drawBoard() {\r\n        console.log('drawing board');\r\n        const canvas = document.getElementById('canvasBoard');\r\n        const context = canvas.getContext('2d');\r\n\r\n        const board = this.state.board;\r\n        const size = board.length;\r\n\r\n        for (var y = 0; y < size; y++) {\r\n            const field = board[y];\r\n            for (var x = 0; x < size; x++) {\r\n                if (field[x] === 'OPEN') {\r\n                    context.fillStyle = 'green';\r\n                    context.fillRect((width / size) * x, (height / size) * y, width / size - 1, height / size - 1);\r\n                } else if (field[x] === 'LAKE') {\r\n                    context.fillStyle = 'blue';\r\n                    context.fillRect((width / size) * x, (height / size) * y, width / size - 1, height / size - 1);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    handleOnClick(e) {\r\n        e.persist();\r\n        console.log(e);\r\n    }\r\n\r\n    onMessageRecieved(message) {\r\n        console.log(message, 'MESSAGE RECIEVED');\r\n    }\r\n\r\n    sendMessage = (message) => {\r\n        this.clientRef.sendMessage('/app/game', JSON.stringify(message));\r\n        console.log(JSON.stringify(message), 'MESSAGE SEND');\r\n    }\r\n\r\n    toggle = () => {\r\n        this.setState({\r\n            ready: !this.state.ready\r\n        });\r\n        this.sendMessage(this.state);\r\n    }\r\n\r\n    \r\n\r\n    render() {\r\n        return (\r\n            <div className='Layout'>\r\n                <header style={{ paddingBottom: '3rem', fontSize: '40px' }}>\r\n                    Online Stratego\r\n                </header>\r\n\r\n                <div className='row' id='left'>\r\n\r\n                </div>\r\n                <div className='row' id='center'>\r\n                    <div className='grid'>\r\n                        <div className='canvasWrapper'>\r\n                            <ReactCursorPosition>\r\n                                <canvas id='canvasBoard' width={width} height={height} />\r\n                                <PositionLabel/>\r\n                            </ReactCursorPosition>\r\n                        </div>\r\n                        <div className='canvasWrapper'>\r\n                            <canvas id='canvasPawns' width={width} height={height} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className='row' id='right'>\r\n\r\n                </div>\r\n\r\n\r\n                // Websockets\r\n                <button onClick={this.toggle}>\r\n                    toggle\r\n                </button>\r\n                <SockJSClient\r\n                    url={'http://localhost:9000/ws'}\r\n                    topics={['/topic/public']}\r\n                    onMessage={(message) => { this.onMessageRecieved(message); }}\r\n                    ref={(client) => { this.clientRef = client }}\r\n                />\r\n            </div >\r\n        )\r\n    }\r\n}\r\n\r\nexport default Game;\r\n\r\nclass Example extends Component {\r\n    render() {\r\n      return (\r\n        <ReactCursorPosition className=\"example\">\r\n          <PositionLabel />\r\n        </ReactCursorPosition>\r\n      );\r\n    }\r\n  }\r\n  \r\n  const PositionLabel = (props) => {\r\n    const {\r\n      detectedEnvironment: {\r\n        isMouseDetected = false,\r\n        isTouchDetected = false\r\n      } = {},\r\n      elementDimensions: {\r\n        width = 0,\r\n        height = 0\r\n      } = {},\r\n      isActive = false,\r\n      isPositionOutside = false,\r\n      position: {\r\n        x = 0,\r\n        y = 0\r\n      } = {}\r\n    } = props;\r\n  \r\n    return (\r\n      <div className=\"example__label\">\r\n        {`x: ${x}`}<br />\r\n        {`y: ${y}`}<br />\r\n        {`width:: ${width}`}<br />\r\n        {`height: ${height}`}<br />\r\n        {`isActive: ${isActive}`}<br />\r\n        {`isPositionOutside: ${isPositionOutside ? 'true' : 'false'}`}<br />\r\n        {`isMouseDetected: ${isMouseDetected ? 'true' : 'false'}`}<br />\r\n              {`isTouchDetected: ${isTouchDetected ? 'true' : 'false'}`}\r\n      </div>\r\n    );\r\n  };\r\n  \r\n  render(\r\n    <Example />,\r\n    document.getElementById('app')\r\n  );\r\n  "]},"metadata":{},"sourceType":"module"}