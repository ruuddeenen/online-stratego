{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ruudd\\\\OneDrive - Office 365 Fontys\\\\SE31\\\\Big Idea - Stratego\\\\Project\\\\online-stratego-client\\\\src\\\\pages\\\\Register.js\";\nimport React, { Component } from 'react';\nimport { Form } from 'react-bootstrap';\nimport Button from 'react-bootstrap/Button';\nconst restUrl = 'http://localhost:9000';\n\nclass Register extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: '',\n      password: '',\n      user: null\n    }; // Bindings\n\n    this.handleLogin = this.handleLogin.bind(this);\n    this.handleRegister = this.handleRegister.bind(this);\n    this.handleChangeUsername = this.handleChangeUsername.bind(this);\n    this.handleChangePassword = this.handleChangePassword.bind(this);\n    this.handleChangePasswordConf = this.handleChangePasswordConf.bind(this);\n    this.toLogin = this.toLogin.bind(this);\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (prevState !== this.state) {\n      console.log(this.state);\n    }\n  }\n\n  handleErrors(response) {\n    if (!response.ok) {\n      throw Error(response.statusText);\n    }\n\n    return response;\n  }\n\n  handleLogin() {\n    let url = [];\n    url.push(restUrl, '/login?', 'username=', this.state.username, '&password=', this.state.password);\n    url = url.join('');\n    console.log(url);\n    fetch(url).then(res => res.json).then(data => {\n      this.setState({\n        user: data\n      }, () => {\n        console.log(this.state.user, 'user');\n\n        if (this.state.user.id !== null) {\n          localStorage.setItem('user', this.state.user); //window.location = '/lobby';\n        } else {\n          window.alert('Could not find account with those credentials!');\n        }\n      });\n    });\n  }\n\n  handleRegister() {\n    window.location = '/register';\n  }\n\n  handleChangeUsername(e) {\n    this.setState({\n      username: e.target.value\n    });\n  }\n\n  handleChangePassword(e) {\n    this.setState({\n      password: e.target.value\n    });\n  }\n\n  handleChangePasswordConf(e) {\n    this.setState({\n      passwordConfirmation: e.target.value\n    });\n  }\n\n  toLogin() {\n    window.location = '/';\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"Layout\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"header\", {\n      className: \"Header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Online Stratego\"), React.createElement(Form, {\n      className: \"Form\",\n      style: {\n        backgroundColor: 'rgba(235,200,70,0.9)'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      className: \"input\",\n      type: \"text\",\n      id: \"username\",\n      placeholder: \"Username\",\n      onChange: this.handleChangeUsername,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      className: \"input\",\n      type: \"password\",\n      id: \"password\",\n      placeholder: \"Password\",\n      onChange: this.handleChangePassword,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      className: \"input\",\n      type: \"password\",\n      id: \"passwordConf\",\n      placeholder: \"Confirm password\",\n      onChange: this.handleChangePasswordConf,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"btn-group\",\n      role: \"group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(Button, {\n      className: \"btn btn-warning\",\n      onClick: this.toLogin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }), React.createElement(Button, {\n      className: \"btn btn-warning\",\n      onClick: this.handleRegister,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"Create account\")))));\n  }\n\n}\n\nexport default Register;","map":{"version":3,"sources":["C:/Users/ruudd/OneDrive - Office 365 Fontys/SE31/Big Idea - Stratego/Project/online-stratego-client/src/pages/Register.js"],"names":["React","Component","Form","Button","restUrl","Register","constructor","props","state","username","password","user","handleLogin","bind","handleRegister","handleChangeUsername","handleChangePassword","handleChangePasswordConf","toLogin","componentDidUpdate","prevProps","prevState","snapshot","console","log","handleErrors","response","ok","Error","statusText","url","push","join","fetch","then","res","json","data","setState","id","localStorage","setItem","window","alert","location","e","target","value","passwordConfirmation","render","backgroundColor"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Form } from 'react-bootstrap';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nconst restUrl = 'http://localhost:9000';\r\n\r\nclass Register extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: '',\r\n            password: '',\r\n            user: null\r\n        };\r\n\r\n        // Bindings\r\n        this.handleLogin = this.handleLogin.bind(this);\r\n        this.handleRegister = this.handleRegister.bind(this);\r\n        this.handleChangeUsername = this.handleChangeUsername.bind(this);\r\n        this.handleChangePassword = this.handleChangePassword.bind(this);\r\n        this.handleChangePasswordConf = this.handleChangePasswordConf.bind(this);\r\n        this.toLogin = this.toLogin.bind(this);\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevState !== this.state) {\r\n            console.log(this.state);\r\n        }\r\n    }\r\n\r\n    handleErrors(response) {\r\n        if (!response.ok) {\r\n            throw Error(response.statusText);\r\n        }\r\n        return response;\r\n    }\r\n\r\n    handleLogin() {\r\n        let url = [];\r\n        url.push(\r\n            restUrl,\r\n            '/login?',\r\n            'username=',\r\n            this.state.username,\r\n            '&password=',\r\n            this.state.password\r\n        );\r\n        url = url.join('');\r\n        console.log(url);\r\n\r\n        fetch(url)\r\n            .then(res => res.json)\r\n            .then((data) => {\r\n                this.setState({\r\n                    user: data\r\n                }, () => {\r\n                    console.log(this.state.user, 'user');\r\n                    if (this.state.user.id !== null) {\r\n                        localStorage.setItem('user', this.state.user);\r\n                        //window.location = '/lobby';\r\n                    } else {\r\n                        window.alert('Could not find account with those credentials!');\r\n                    }\r\n                })\r\n            })\r\n    }\r\n\r\n    handleRegister() {\r\n        window.location = '/register';\r\n    }\r\n\r\n    handleChangeUsername(e) {\r\n        this.setState({\r\n            username: e.target.value\r\n        });\r\n    }\r\n\r\n    handleChangePassword(e) {\r\n        this.setState({\r\n            password: e.target.value\r\n        });\r\n    }\r\n\r\n    handleChangePasswordConf(e) {\r\n        this.setState({\r\n            passwordConfirmation: e.target.value\r\n        });\r\n    }\r\n\r\n    toLogin(){\r\n        window.location = '/';\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='Layout'>\r\n                <header className='Header'>\r\n                    Online Stratego\r\n            </header>\r\n\r\n                <Form className='Form' style={{ backgroundColor: 'rgba(235,200,70,0.9)' }}>\r\n                    <Form.Group>\r\n                        <Form.Control className='input' type='text' id='username' placeholder='Username' onChange={this.handleChangeUsername} />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group>\r\n                        <Form.Control className='input' type='password' id='password' placeholder='Password' onChange={this.handleChangePassword} />\r\n                    </Form.Group>\r\n                    <Form.Group>\r\n                        <Form.Control className='input' type='password' id='passwordConf' placeholder='Confirm password' onChange={this.handleChangePasswordConf} />\r\n                    </Form.Group>\r\n                    <Form.Group>\r\n                        <div className='btn-group' role='group'>\r\n\r\n                        <Button className='btn btn-warning' onClick={this.toLogin}/>\r\n                        <Button className='btn btn-warning' onClick={this.handleRegister} >\r\n                            Create account\r\n                        </Button>\r\n                        </div>\r\n                    </Form.Group>\r\n                </Form>\r\n            </div >\r\n\r\n        )\r\n    }\r\n}\r\nexport default Register;"]},"metadata":{},"sourceType":"module"}